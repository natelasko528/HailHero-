# HailHero MVP Environment Configuration
# Copy this file to .env and fill in your actual values

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
# Environment (development, staging, production)
ENVIRONMENT=development

# Flask Settings
FLASK_APP=src/mvp/app.py
FLASK_ENV=development
SECRET_KEY=your-secret-key-here-change-in-production

# Server Configuration
HOST=0.0.0.0
PORT=5000
DEBUG=True

# =============================================================================
# SECURITY SETTINGS
# =============================================================================
# Generate a strong secret key for production
# Use: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY_PRODUCTION=your-production-secret-key-here

# CORS Settings
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5000,http://127.0.0.1:5000

# Session Security
PERMANENT_SESSION_LIFETIME=3600
SESSION_COOKIE_SECURE=True
SESSION_COOKIE_HTTPONLY=True
SESSION_COOKIE_SAMESITE=Lax

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# SQLite (for MVP development)
DATABASE_URL=sqlite:///hail_hero.db

# PostgreSQL (for production - uncomment when ready)
# DATABASE_URL=postgresql://username:password@localhost:5432/hail_hero
# DB_HOST=localhost
# DB_PORT=5432
# DB_NAME=hail_hero
# DB_USER=hail_hero_user
# DB_PASSWORD=your-db-password-here

# =============================================================================
# NOAA/NCEI API CONFIGURATION
# =============================================================================
# Get your token from: https://www.ncdc.noaa.gov/cdo-web/webservices/v2
NCEI_TOKEN=your-noaa-ncei-token-here
NCEI_BASE_URL=https://www.ncei.noaa.gov/access/services/search/v1/data
NCEI_DATASET=stormevents

# NOAA API Settings
NCEI_TIMEOUT=30
NCEI_MAX_RETRIES=3
NCEI_RATE_LIMIT_DELAY=1.0
NCEI_ENABLE_CACHING=True

# Data Processing
NCEI_BATCH_SIZE=1000
HAIL_MIN_SIZE=0.5
WIND_MIN_SPEED=60.0

# Geographic Constraints (Wisconsin/Illinois focus)
MIN_LATITUDE=41.5
MAX_LATITUDE=47.0
MIN_LONGITUDE=-93.0
MAX_LONGITUDE=-87.0

# =============================================================================
# TWILIO CONFIGURATION
# =============================================================================
# Get these values from your Twilio console: https://www.twilio.com/console
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# Twilio Settings
TWILIO_MESSAGE_SERVICE_SID=your-message-service-sid  # Optional
TWILIO_WEBHOOK_URL=https://your-domain.com/twilio/sms

# =============================================================================
# GOHIGHLEVEL CONFIGURATION
# =============================================================================
# Get these from your GoHighLevel account
GOHIGHLEVEL_API_KEY=your-gohighlevel-api-key
GOHIGHLEVEL_LOCATION_ID=your-location-id
GOHIGHLEVEL_WEBHOOK_URL=https://your-domain.com/gohighlevel/webhook

# =============================================================================
# PROPERTY DATA ENRICHMENT
# =============================================================================
# OpenAddresses.io Configuration
ENABLE_OPENADDRESSES=True
OPENADDRESSES_BASE_URL=https://openaddresses.io

# Geocoding Configuration
NOMINATIM_BASE_URL=https://nominatim.openstreetmap.org
NOMINATIM_TIMEOUT=10
NOMINATIM_RATE_LIMIT=1.0

# Property Enrichment Settings
ENABLE_PROPERTY_ENRICHMENT=True
MAX_PROPERTIES_PER_EVENT=50
SEARCH_RADIUS_MILES=5.0
PROPERTY_QUALITY_THRESHOLD=60.0

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=logs/hail_hero.log
LOG_MAX_SIZE=10485760  # 10MB
LOG_BACKUP_COUNT=5

# =============================================================================
# MONITORING AND METRICS
# =============================================================================
# Health Checks
ENABLE_HEALTH_CHECKS=True
HEALTH_CHECK_INTERVAL_MINUTES=5

# Metrics
ENABLE_METRICS=True
METRICS_PORT=8080

# =============================================================================
# SCHEDULING AND BACKGROUND TASKS
# =============================================================================
# Enable background data fetching
ENABLE_SCHEDULING=True
FETCH_INTERVAL_HOURS=6
ENABLE_INCREMENTAL_FETCH=True

# Celery Configuration (for production background tasks)
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0

# =============================================================================
# EXTERNAL SERVICES CONFIGURATION
# =============================================================================
# Email Configuration (for notifications)
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
EMAIL_FROM_ADDRESS=noreply@hailhero.com

# =============================================================================
# PERFORMANCE AND CACHING
# =============================================================================
# Cache Settings
CACHE_TYPE=redis
CACHE_REDIS_URL=redis://localhost:6379/1
CACHE_DEFAULT_TIMEOUT=3600

# Rate Limiting
RATELIMIT_STORAGE_URL=redis://localhost:6379/2
RATELIMIT_DEFAULT=100/hour

# =============================================================================
# BACKUP AND DATA RETENTION
# =============================================================================
BACKUP_ENABLED=True
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================
# Development only - disable in production
DEBUG_TOOLBAR=False
RELOAD_TEMPLATES=True
SHOW_SQL_QUERIES=False

# =============================================================================
# TESTING
# =============================================================================
# Test Configuration
TEST_DATABASE_URL=sqlite:///test_hail_hero.db
TEST_LOG_LEVEL=ERROR